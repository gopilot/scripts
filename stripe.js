(function(){var e,t,r,n,i,o={}.hasOwnProperty,u=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},a=this;this.Stripe=function(){function e(){}return e.version=2,e.endpoint="https://api.stripe.com/v1",e.setPublishableKey=function(t){return e.key=t,e.utils.validateProtocol(e.key)},e._corsGateAmount=0,e._corsGate=function(){return Math.random()<this._corsGateAmount},e._transport="undefined"!=typeof window&&null!==window&&e._corsGate()&&"XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest?"cors":"jsonp",e.request=function(t){return t.data.payment_user_agent=t.data.payment_user_agent?""+t.data.payment_user_agent+" ("+e.stripejs_ua+")":e.stripejs_ua,"cors"===this._transport?this.xhr(t):this.ajaxJSONP(t)},e.complete=function(t,r){return function(n){var i;return"success"!==n?(i=Math.round((new Date).getTime()/1e3),(new Image).src="https://q.stripe.com?event=stripejs-error&type="+n+"&key="+e.key+"&timestamp="+i+"&payment_user_agent="+encodeURIComponent(e.stripejs_ua),"function"==typeof t?t(500,{error:{code:n,type:n,message:r}}):void 0):void 0}},e}.call(this),e=this.Stripe,this.Stripe.token=function(){function t(){}return t.validate=function(e,t){if(!e)throw t+" required";if("object"!=typeof e)throw t+" invalid"},t.formatData=function(t,r){return e.utils.isElement(t)&&(t=e.utils.paramsFromForm(t,r)),e.utils.underscoreKeys(t),t},t.create=function(t,r){return t.key||(t.key=e.key||e.publishableKey),e.utils.validateKey(t.key),e.request({url:""+e.endpoint+"/tokens",data:t,method:"POST",success:function(e,t){return"function"==typeof r?r(t,e):void 0},complete:e.complete(r,"A network error has occurred, and you have not been charged. Please try again."),timeout:4e4})},t.get=function(t,r){if(!t)throw"token required";return e.utils.validateKey(e.key),e.request({url:""+e.endpoint+"/tokens/"+t,data:{key:e.key},success:function(e,t){return"function"==typeof r?r(t,e):void 0},complete:e.complete(r,"A network error has occurred loading data from Stripe. Please try again."),timeout:4e4})},t}.call(this),this.Stripe.card=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return u(r,t),r.tokenName="card",r.whitelistedAttrs=["number","cvc","exp_month","exp_year","name","address_line1","address_line2","address_city","address_state","address_zip","address_country"],r.createToken=function(t,n,i){var o;return null==n&&(n={}),e.token.validate(t,"card"),"function"==typeof n?(i=n,n={}):"object"!=typeof n&&(o=parseInt(n,10),n={},o>0&&(n.amount=o)),n[r.tokenName]=e.token.formatData(t,r.whitelistedAttrs),e.token.create(n,i)},r.getToken=function(t,r){return e.token.get(t,r)},r.validateCardNumber=function(e){return e=(e+"").replace(/\s+|-/g,""),e.length>=10&&e.length<=16&&r.luhnCheck(e)},r.validateCVC=function(t){return t=e.utils.trim(t),/^\d+$/.test(t)&&t.length>=3&&t.length<=4},r.validateExpiry=function(t,r){var n,i;return t=e.utils.trim(t),r=e.utils.trim(r),/^\d+$/.test(t)&&/^\d+$/.test(r)&&t>=1&&12>=t?(2===r.length&&(r=70>r?"20"+r:"19"+r),4!==r.length?!1:(i=new Date(r,t),n=new Date,i.setMonth(i.getMonth()-1),i.setMonth(i.getMonth()+1,1),i>n)):!1},r.luhnCheck=function(e){var t,r,n,i,o,u;for(n=!0,i=0,r=(e+"").split("").reverse(),o=0,u=r.length;u>o;o++)t=r[o],t=parseInt(t,10),(n=!n)&&(t*=2),t>9&&(t-=9),i+=t;return i%10===0},r.cardType=function(e){return r.cardTypes[e.slice(0,2)]||"Unknown"},r.cardBrand=function(e){return r.cardType(e)},r.cardTypes=function(){var e,t,r,n;for(t={},e=r=40;49>=r;e=++r)t[e]="Visa";for(e=n=50;59>=n;e=++n)t[e]="MasterCard";return t[34]=t[37]="American Express",t[60]=t[62]=t[64]=t[65]="Discover",t[35]="JCB",t[30]=t[36]=t[38]=t[39]="Diners Club",t}(),r}.call(this,this.Stripe.token),this.Stripe.bankAccount=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return u(r,t),r.tokenName="bank_account",r.whitelistedAttrs=["country","routing_number","account_number"],r.createToken=function(t,n,i){return null==n&&(n={}),e.token.validate(t,"bank account"),"function"==typeof n&&(i=n,n={}),n[r.tokenName]=e.token.formatData(t,r.whitelistedAttrs),e.token.create(n,i)},r.getToken=function(t,r){return e.token.get(t,r)},r.validateRoutingNumber=function(t,n){switch(t=e.utils.trim(t),n){case"US":return/^\d+$/.test(t)&&9===t.length&&r.routingChecksum(t);case"CA":return/\d{5}\-\d{3}/.test(t)&&9===t.length;default:return!0}},r.validateAccountNumber=function(t,r){switch(t=e.utils.trim(t),r){case"US":return/^\d+$/.test(t)&&t.length>=1&&t.length<=17;default:return!0}},r.routingChecksum=function(e){var t,r,n,i,o,u;for(n=0,t=(e+"").split(""),u=[0,3,6],i=0,o=u.length;o>i;i++)r=u[i],n+=3*parseInt(t[r]),n+=7*parseInt(t[r+1]),n+=parseInt(t[r+2]);return 0!==n&&n%10===0},r}.call(this,this.Stripe.token),this.Stripe.bitcoinReceiver=function(){function t(){}return t._whitelistedAttrs=["amount","currency","email","description"],t.createReceiver=function(t,r){var n;return e.token.validate(t,"bitcoin_receiver data"),n=e.token.formatData(t,this._whitelistedAttrs),n.key=e.key||e.publishableKey,e.utils.validateKey(n.key),e.request({url:""+e.endpoint+"/bitcoin/receivers",data:n,method:"POST",success:function(e,t){return"function"==typeof r?r(t,e):void 0},complete:e.complete(r,"A network error has occurred while creating a Bitcoin address. Please try again."),timeout:4e4})},t.getReceiver=function(t,r){var n;if(!t)throw"receiver id required";return n=e.key||e.publishableKey,e.utils.validateKey(n),e.request({url:""+e.endpoint+"/bitcoin/receivers/"+t,data:{key:n},success:function(e,t){return"function"==typeof r?r(t,e):void 0},complete:e.complete(r,"A network error has occurred loading data from Stripe. Please try again."),timeout:4e4})},t._activeReceiverPolls={},t._clearReceiverPoll=function(e){return delete t._activeReceiverPolls[e]},t._pollInterval=1500,t.pollReceiver=function(e,t){if(null!=this._activeReceiverPolls[e])throw"You are already polling receiver "+e+". Please cancel that poll before polling it again.";return this._activeReceiverPolls[e]={},this._pollReceiver(e,t)},t._pollReceiver=function(e,r){t.getReceiver(e,function(n,i){var o,u;if(null!=t._activeReceiverPolls[e])return 200===n&&i.filled?(t._clearReceiverPoll(e),"function"==typeof r?r(n,i):void 0):n>=400&&500>n?(t._clearReceiverPoll(e),"function"==typeof r?r(n,i):void 0):(o=500===n?5e3:t._pollInterval,u=setTimeout(function(){return t._pollReceiver(e,r)},o),t._activeReceiverPolls[e].timeoutId=u)})},t.cancelReceiverPoll=function(e){var r;if(r=t._activeReceiverPolls[e],null==r)throw"You are not polling receiver "+e+".";null!=r.timeoutId&&clearTimeout(r.timeoutId),t._clearReceiverPoll(e)},t}.call(this),t=["createToken","getToken","cardType","validateExpiry","validateCVC","validateCardNumber"];for(n=0,i=t.length;i>n;n++)r=t[n],this.Stripe[r]=this.Stripe.card[r];"undefined"!=typeof module&&null!==module&&(module.exports=this.Stripe),"function"==typeof define&&define("stripe",[],function(){return a.Stripe})}).call(this),function(){var e=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};this.Stripe.utils=function(){function t(){}var r,n;return n=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g,r=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,t.trim=function(e){return null===e?"":(e+"").replace(r,"")},t.parseJSON=function(e){var t,r,i,o;if(null!=(o=window.JSON)?o.parse:void 0)return window.JSON.parse(e+"");if(r=void 0,t=null,i=Stripe.utils.trim(e+""),i&&!Stripe.utils.trim(i.replace(n,function(e,n,i,o){return r&&n&&(t=0),0===t?e:(r=i||n,t+=!o-!i,"")})))return Function("return "+i)();throw new Error("Invalid JSON: "+e)},t.serialize=function(e,t,r){var n,i;null==t&&(t=[]);try{for(n in e)i=e[n],r&&(n=""+r+"["+n+"]"),"object"==typeof i?this.serialize(i,t,n):t.push(""+n+"="+encodeURIComponent(i));return t.join("&").replace(/%20/g,"+")}catch(o){throw new Error("Unable to serialize: "+e)}},t.underscore=function(e){return(e+"").replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()}).replace(/-/g,"_")},t.underscoreKeys=function(e){var t,r,n;n=[];for(t in e)r=e[t],delete e[t],n.push(e[this.underscore(t)]=r);return n},t.isElement=function(e){return"object"!=typeof e?!1:e.jquery?!0:1===e.nodeType},t.paramsFromForm=function(t,r){var n,i,o,u,a,s,c,l,d,p;for(null==r&&(r=[]),t.jquery&&(t=t[0]),o=t.getElementsByTagName("input"),a=t.getElementsByTagName("select"),s={},c=0,d=o.length;d>c;c++)i=o[c],n=this.underscore(i.getAttribute("data-stripe")),e.call(r,n)<0||(s[n]=i.value);for(l=0,p=a.length;p>l;l++)u=a[l],n=this.underscore(u.getAttribute("data-stripe")),e.call(r,n)<0||null!=u.selectedIndex&&(s[n]=u.options[u.selectedIndex].value);return s},t.validateProtocol=function(e){var t;if(e&&"string"==typeof e)return/_live_/g.test(e)&&"https:"!==window.location.protocol&&null!=(null!=(t=window.console)?t.warn:void 0)?window.console.warn("You are using Stripe.js in live mode over an insecure connection. This is considered unsafe. Please conduct live requests only on sites served over https. For more info, see https://stripe.com/help/ssl"):void 0},t.validateKey=function(e){if(!e||"string"!=typeof e)throw new Error("You did not set a valid publishable key. Call Stripe.setPublishableKey() with your publishable key. For more info, see https://stripe.com/docs/stripe.js");if(/\s/g.test(e))throw new Error("Your key is invalid, as it contains whitespace. For more info, see https://stripe.com/docs/stripe.js");if(/^sk_/.test(e))throw new Error("You are using a secret key with Stripe.js, instead of the publishable one. For more info, see https://stripe.com/docs/stripe.js")},t}()}.call(this),function(){var e,t=[].slice;e=(new Date).getTime(),this.Stripe.ajaxJSONP=function(r){var n,i,o,u,a,s;return null==r&&(r={}),o="sjsonp"+ ++e,a=document.createElement("script"),i=null,n=function(e){var t;return null==e&&(e="abort"),clearTimeout(i),null!=(t=a.parentNode)&&t.removeChild(a),o in window&&(window[o]=function(){}),"function"==typeof r.complete?r.complete(e,s,r):void 0},s={abort:n},a.onerror=function(){return s.abort(),"function"==typeof r.error?r.error(s,r):void 0},window[o]=function(){var e;e=1<=arguments.length?t.call(arguments,0):[],clearTimeout(i),a.parentNode.removeChild(a);try{delete window[o]}catch(n){window[o]=void 0}return"function"==typeof r.success&&r.success.apply(r,e),"function"==typeof r.complete?r.complete("success",s,r):void 0},r.data||(r.data={}),r.data.callback=o,r.method&&(r.data._method=r.method),a.src=r.url+"?"+Stripe.utils.serialize(r.data),u=document.getElementsByTagName("head")[0],u.appendChild(a),r.timeout>0&&(i=setTimeout(function(){return s.abort("timeout")},r.timeout)),s}}.call(this),function(){var e,t,r,n,i,o,u,a,s,c={}.hasOwnProperty;t={contentType:"application/x-www-form-urlencoded",accept:{json:"application/json"}},u=/^(20\d|1223)$/,o="invalid_json_response",n=function(e,t,r){return function(){return e._aborted?r("aborted"):e.request&&4===e.request.readyState?(e.request.onreadystatechange=function(){},u.test(e.request.status)?t(e.request,e.request.status):(t(e.request,e.request.status),r("response_code"))):void 0}},a=function(e,r){var n,i,o;i=r.headers||{},i.Accept||(i.Accept=t.accept.json),i["Content-Type"]||(i["Content-Type"]=t.contentType),o=[];for(n in i)c.call(i,n)&&o.push("setRequestHeader"in e?e.setRequestHeader(n,i[n]):void 0);return o},s=function(e,t){return/\?/.test(e)?e+"&"+t:e+"?"+t},r=function(e,t){var r,i,o,u,c,l,d,p;return c=this.o,u=(c.method||"GET").toUpperCase(),l=c.url,o=null!=(d=c.data)?d.key:void 0,r=Stripe.utils.serialize(c.data),i=void 0,"GET"===u&&r&&(l=s(l,r),r=null),p=new XMLHttpRequest,p.open(u,l,!0),a(p,c),p.onreadystatechange=n(this,e,t),p.send(r),p},e=function(e){return this.o=e,i.apply(this,arguments)},i=function(e){var t,n,i,u=this;return this.url=e.url,this.timeout=null,this._successHandler=function(){},this._errorHandlers=[],this._completeHandlers=[],e.timeout&&(this.timeout=setTimeout(function(){return u.abort()},e.timeout)),e.success&&(this._successHandler=function(){return e.success.apply(e,arguments)}),e.error&&this._errorHandlers.push(function(){return e.error.apply(e,arguments)}),e.complete&&this._completeHandlers.push(function(){return e.complete.apply(e,arguments)}),t=function(t){var r;for(e.timeout&&clearTimeout(u.timeout),u.timeout=null,r=[];u._completeHandlers.length>0;)r.push(u._completeHandlers.shift()("success",t,e));return r},i=function(e,r){var i;if(i=e.responseText)try{e=Stripe.utils.parseJSON(i)}catch(a){n(o)}return u._successHandler(e,r),t(e)},n=function(e){var r,n;if(n=u.request,r=n.responseText)try{n=Stripe.utils.parseJSON(r)}catch(i){e=o}for(;u._errorHandlers.length>0;)u._errorHandlers.shift()(n,e);return t(n)},this.request=r.call(this,i,n)},e.prototype={abort:function(){return this._aborted=!0,this.request.abort()}},this.Stripe.xhr=function(t){return new e(t)}}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};this.Stripe.validator={"boolean":function(e,t){return"true"!==t&&"false"!==t?"Enter a boolean string (true or false)":void 0},integer:function(e,t){return/^\d+$/.test(t)?void 0:"Enter an integer"},positive:function(e,t){return!this.integer(e,t)&&parseInt(t,10)>0?void 0:"Enter a positive value"},range:function(t,r){var n;return n=parseInt(r,10),e.call(t,n)<0?"Needs to be between "+t[0]+" and "+t[t.length-1]:void 0},required:function(e,t){return!e||null!=t&&""!==t?void 0:"Required"},year:function(e,t){return/^\d{4}$/.test(t)?void 0:"Enter a 4-digit year"},birthYear:function(e,t){var r;return r=this.year(e,t),r?r:parseInt(t,10)>2e3?"You must be over 18":parseInt(t,10)<1900?"Enter your birth year":void 0},month:function(e,t){return this.integer(e,t)?"Please enter a month":this.range([1,2,3,4,5,6,7,8,9,10,11,12],t)?"Needs to be between 1 and 12":void 0},choices:function(t,r){return e.call(t,r)<0?"Not an acceptable value for this field":void 0},email:function(e,t){return/^[^@<\s>]+@[^@<\s>]+$/.test(t)?void 0:"That doesn't look like an email address"},url:function(e,t){return/^https?:\/\/.+\..+/.test(t)?void 0:"Not a valid url"},usTaxID:function(e,t){return/^\d{2}-?\d{1}-?\d{2}-?\d{4}$/.test(t)?void 0:"Not a valid tax ID"},ein:function(e,t){return/^\d{2}-?\d{7}$/.test(t)?void 0:"Not a valid EIN"},ssnLast4:function(e,t){return/^\d{4}$/.test(t)?void 0:"Not a valid last 4 digits for an SSN"},ownerPersonalID:function(e,t){var r;return r=function(){switch(e){case"CA":return/^\d{3}-?\d{3}-?\d{3}$/.test(t);case"US":return!0}}(),r?void 0:"Not a valid ID"},bizTaxID:function(e,t){var r,n,i,o,u,a,s,c;if(a={CA:["Tax ID",[/^\d{9}$/]],US:["EIN",[/^\d{2}-?\d{7}$/]]},u=a[e],null!=u){for(r=u[0],o=u[1],n=!1,s=0,c=o.length;c>s;s++)if(i=o[s],i.test(t)){n=!0;break}if(!n)return"Not a valid "+r}},zip:function(e,t){var r;return r=function(){switch(e.toUpperCase()){case"CA":return/^[\d\w]{6}$/.test(null!=t?t.replace(/\s+/g,""):void 0);case"US":return/^\d{5}$/.test(t)||/^\d{9}$/.test(t)}}(),r?void 0:"Not a valid zip"},bankAccountNumber:function(e,t){return/^\d{1,17}$/.test(t)?void 0:"Invalid bank account number"},usRoutingNumber:function(e){var t,r,n,i,o,u,a;if(!/^\d{9}$/.test(e))return"Routing number must have 9 digits";for(o=0,t=u=0,a=e.length-1;a>=u;t=u+=3)r=3*parseInt(e.charAt(t),10),n=7*parseInt(e.charAt(t+1),10),i=parseInt(e.charAt(t+2),10),o+=r+n+i;return 0===o||o%10!==0?"Invalid routing number":void 0},caRoutingNumber:function(e){return/^\d{5}\-\d{3}$/.test(e)?void 0:"Invalid transit number"},routingNumber:function(e,t){switch(e.toUpperCase()){case"CA":return this.caRoutingNumber(t);case"US":return this.usRoutingNumber(t)}},phoneNumber:function(e,t){var r;return r=t.replace(/[^0-9]/g,""),10!==r.length?"Invalid phone number":void 0},bizDBA:function(e,t){return/^.{1,23}$/.test(t)?void 0:"Statement descriptors can only have up to 23 characters"},nameLength:function(e,t){return 1===t.length?"Names need to be longer than one character":void 0}}}.call(this),function(){this.Stripe.stripejs_ua="stripe.js/301fc5d"}.call(this);